<div class="container">
  <h1 class="text-center">Group Show</h1>


  <h3><%= @group.name %></h3>
  <h3><%= @group.category %></h3>
  <h4 class="text-center">Friends</h4>

<ul class="list-group end text-right">
    <% if current_user && current_user == @group.user %>
        <% @users.each do |user| %>
          <% unless @group.members.map { |member| member.user }.include? user %>
            <li class="list-group-item">
              <%= user.first_name %>
              <%= link_to group_members_path(@group, user_id: user.id), data: { turbo_method: :post } do %>
              <i class="fa-solid fa-plus" style="color: #0ed100;"></i>
              <% end %>
            </li>
          <% end %>
        <% end %>
    <% end %>
  <div class="card-group-show">
    <% @group.members.each do |member| %>
      <li class="list-group-item">
        <%= member.user.first_name %>
        <% if current_user && current_user == @group.user %>
          <%= link_to member_path(member), data: { turbo_method: :delete } do %>
            <i class="fa-solid fa-xmark" style="color: #ff0000;"></i>
          <% end %>
        <% end %>
      </li>
    <% end %>
  </div>
  </ul>
  <div>
    <%= link_to "Back", groups_path, class: "btn btn-success" %>
    <% if current_user && current_user == @group.user %>
      <%= link_to "Edit", edit_group_path(@group), class: "btn btn-success" %>
      <%= link_to "Delete", group_path(@group), class: "btn btn-danger", data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' } %>
      <% end %>
  </div>
  <div style="width: 100%; height: 600px;"
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  <div>


</div>
